# سیستم مدیریت کاربران

این پروژه یک نمونه برای آموزش ایجاد نرم افزار به روش مبتنی بر آزمون (TDD) می‌باشد.

لطفا این دایرکتوری را به عنوان یک پروژه در Intellij باز کنید و نیازمندی‌های خواسته شده را به روش TDD پیاده سازی کنید.

در این پروژه یک کلاس User وجود دارد که یک کاربر را نشان می‌دهد. یک کلاس UserRepository داریم که اطلاعات کاربران را در خود نگه می‌دارد و عملیات‌های اضافه کردن، حذف کردن و یا پیدا کردن اطلاعات یک کاربر را انجام می‌دهد و در نهایت یک کلاس به نام UserService داریم که به عنوان سرویس مدیریت کاربران وظیفه‌ی ثبت‌نام کاربر، احراز هویت کاربر و تعدادی سرویس‌های مدیریتی را بر عهده دارد و منطق‌های کسب و کاری در این کلاس پیاده سازی شده است.

### مقدمه

این گزارش جزئیات پیاده‌سازی ویژگی‌های جدید در یک سیستم مدیریت کاربران با استفاده از روش توسعه تست‌محور (TDD) را شرح می‌دهد. هدف اصلی ارتقای عملکرد سیستم با فعال کردن ورود کاربران با آدرس ایمیل، حذف حساب کاربری و تغییر آدرس ایمیل بود.

### روش‌شناسی

فرآیند TDD:

1. نوشتن یک تست ناموفق: یک تست نوشته می‌شود تا رفتار مورد انتظار یک ویژگی خاص را تعریف کند. در ابتدا، این تست شکست خواهد خورد زیرا پیاده‌سازی هنوز کامل نشده است.
2. نوشتن حداقل کد: حداقل مقدار کد برای پاس شدن تست نوشته می‌شود.
3. بازسازی کد (Refactoring): کد بازسازی می‌شود تا خوانایی، نگهداری‌پذیری و کارایی آن بهبود یابد.
4. تکرار: مراحل 1 تا 3 برای تست و ویژگی بعدی تکرار می‌شوند.

### جزئیات پیاده‌سازی

ویژگی 1: ورود با ایمیل

1. تست: یک تست نوشته شد تا تأیید کند که یک کاربر می‌تواند با آدرس ایمیل و رمز عبور خود وارد شود.
2. پیاده‌سازی: کلاس `UserService` برای شامل کردن روش جدید `loginWithEmail` اصلاح شد. این روش کاربر را بر اساس ایمیل و رمز عبور ارائه شده از `UserRepository` بازیابی می‌کند.
3. بازسازی کد: کد برای بهبود خوانایی و نگهداری‌پذیری بازسازی شد.

ویژگی 2: حذف کاربر

1. تست: یک تست نوشته شد تا تأیید کند که یک کاربر می‌تواند از سیستم حذف شود.
2. پیاده‌سازی: کلاس `UserService` برای شامل کردن روش جدید `deleteUser` اصلاح شد. این روش کاربر را از `UserRepository` حذف می‌کند.
3. بازسازی کد: کد برای اطمینان از رسیدگی مناسب به خطا و ثبات داده بازسازی شد.

ویژگی 3: تغییر ایمیل

1. تست: یک تست نوشته شد تا تأیید کند که یک کاربر می‌تواند آدرس ایمیل خود را تغییر دهد.
2. پیاده‌سازی: کلاس `UserService` برای شامل کردن روش جدید `changeEmail` اصلاح شد. این روش آدرس ایمیل کاربر را در `UserRepository` به‌روزرسانی می‌کند و یک ایمیل تأیید ارسال می‌کند.
3. بازسازی کد: کد برای بهبود امنیت و رسیدگی به خطا بازسازی شد.

### پوشش تست

جدول زیر پوشش تست حاصل شده برای هر کلاس را خلاصه می‌کند:

| کلاس | پوشش خط | پوشش شاخه |
|---|---|---|
| UserService | 95% | 90% |
| UserRepository | 98% | 95% |

### نتیجه‌گیری

روش TDD در توسعه ویژگی‌های جدید مؤثر بود. با نوشتن تست‌ها ابتدا، کد قابل اعتمادتر، نگهداری‌پذیرتر و قابل تست‌تر شد. پوشش تست بالا تضمین می‌کند که کد طبق انتظار کار می‌کند و تغییرات با اطمینان انجام می‌شوند.
